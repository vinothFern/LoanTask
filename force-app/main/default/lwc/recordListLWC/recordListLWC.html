<template>
    <div class="slds-box slds-box_border slds-card slds-card_boundary">
        <div class="slds-grid slds-page-header forceRelatedListCardHeader">
            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                <div class="slds-media__body">
                    <h1 class="slds-card__header-title">
                        <span>{title} ({recordCount})</span>
                    </h1>
                </div>
            </header>
        </div>
        <div class="slds-media__body slds-border_top" style="height:inherit">
            <lightning-datatable
                key-field="id"
                data={data}
                columns={columns}
                hide-checkbox-column
                onrowaction={handleRowAction}>
            </lightning-datatable>
        </div>
    </div>
    <!-- Add a button to trigger PDF generation -->
    <template if:true={showChartSection}>
        <div class="chart-section slds-p-around_medium">
            <h2>Salary Chart</h2>
            <div style="width: 300px; height: 300px;">
                <canvas lwc:dom="manual" class="chart" data-id="chart"></canvas>
            </div>
        </div>
        <div class="slds-m-top_medium">
            <lightning-button variant="brand" label="Generate PDF" title="Generate PDF" onclick={loadExternalScript}></lightning-button>
        </div>
    </template>
</template>